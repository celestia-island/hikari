// Use theme variables with namespace to avoid conflicts
@use '../../../../theme/styles/variables.scss' as vars;
@use '../../../../theme/styles/mixins.scss' as mix;

// ============================================
// Hikari Pagination Component - FUI Styling
// Design: Arknights + Future UI (FUI) aesthetics
// Features: Glow indicators, smooth transitions, jump animations
// ============================================

// ============================================
// Base Pagination Styles
// ============================================

.hi-pagination {
  // Layout
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 0.5rem;
  flex-wrap: wrap;

  // Padding
  padding: 0.5rem;

  // Transitions
  // DISABLED - migrated to JS animation

  // transition: all vars.$hikari-duration-normal vars.$hikari-ease-smooth;
}

// ============================================
// Pagination Items
// ============================================

.hi-pagination-item {
  // Layout
  display: flex;
  align-items: center;
  justify-content: center;
  min-width: 2rem;
  height: 2rem;
  padding: 0 0.625rem;
  margin: 0.125rem;

  // Appearance
  background: rgba(45, 45, 45, 0.9);
  border: 1px solid var(--hi-color-border);
  border-radius: vars.$hikari-radius-fui-sm;

  // Typography
  font-family: vars.$hikari-font-family-sans;
  font-size: vars.$hikari-font-size-sm;
  font-weight: 500;
  color: var(--hi-color-text-primary);
  text-decoration: none;
  white-space: nowrap;

  // Cursor
  cursor: pointer;
  user-select: none;

  // Transitions
  // DISABLED - migrated to JS animation

  // transition: all vars.$hikari-duration-fast vars.$hikari-ease-smooth;

  // Icon
  svg {
    width: 1rem;
    height: 1rem;
    // DISABLED - migrated to JS animation

    // transition: all vars.$hikari-duration-fast vars.$hikari-ease-smooth;
  }

  // Hover effect
  &:hover:not(:disabled) {
    background: rgba(139, 92, 246, 0.15);
    border-color: rgba(139, 92, 246, 0.4);
    color: var(--hi-color-primary);
    box-shadow:
      0 0 12px rgba(139, 92, 246, 0.25),
      inset 0 0 8px rgba(139, 92, 246, 0.1);
    transform: translateY(-1px);

    svg {
      filter: drop-shadow(0 0 4px rgba(139, 92, 246, 0.5));
    }
  }

  // Active state (current page with glow)
  &.hi-pagination-active {
    background: linear-gradient(135deg, rgba(139, 92, 246, 0.9), rgba(109, 40, 217, 0.9));
    border-color: var(--hi-color-primary);
    color: #ffffff;
    box-shadow:
      0 0 16px rgba(139, 92, 246, 0.5),
      0 0 24px rgba(139, 92, 246, 0.3),
      inset 0 0 8px rgba(255, 255, 255, 0.1);
    font-weight: 600;

    // Pulse animation for active page
    // DISABLED - migrated to JS animation

    // animation: pagination-active-pulse 2s ease-in-out infinite;
  }

  // DISABLED - migrated to JS animation
// @keyframes pagination-active-pulse {
//     0%, 100% {
//       box-shadow:
//         0 0 16px rgba(139, 92, 246, 0.5),
//         0 0 24px rgba(139, 92, 246, 0.3),
//         inset 0 0 8px rgba(255, 255, 255, 0.1);
//     }
//     50% {
//       box-shadow:
//         0 0 20px rgba(139, 92, 246, 0.6),
//         0 0 32px rgba(139, 92, 246, 0.4),
//         inset 0 0 12px rgba(255, 255, 255, 0.15);
//     }
//   }

  // Disabled state
  &:disabled {
    opacity: 0.4;
    cursor: not-allowed;
    pointer-events: none;
    background: rgba(45, 45, 45, 0.5);
  }

  // Focus state
  &:focus-visible {
    outline: none;
    box-shadow:
      0 0 0 2px rgba(139, 92, 246, 0.5),
      0 0 16px rgba(139, 92, 246, 0.4);
  }

  // Active press effect
  &:active:not(:disabled) {
    transform: translateY(0) scale(0.95);
    // DISABLED - migrated to JS animation

    // transition: transform vars.$hikari-duration-instant ease-out;
  }
}

// ============================================
// Navigation Buttons
// ============================================

// Previous button
.hi-pagination-prev {
  @extend .hi-pagination-item;

  // Icon rotation on hover
  &:hover:not(:disabled) svg {
    transform: translateX(-2px);
  }
}

// Next button
.hi-pagination-next {
  @extend .hi-pagination-item;

  // Icon rotation on hover
  &:hover:not(:disabled) svg {
    transform: translateX(2px);
  }
}

// First button (jump to start)
.hi-pagination-first {
  @extend .hi-pagination-item;

  &:hover:not(:disabled) svg {
    transform: translateX(-2px);
  }
}

// Last button (jump to end)
.hi-pagination-last {
  @extend .hi-pagination-item;

  &:hover:not(:disabled) svg {
    transform: translateX(2px);
  }
}

// ============================================
// Page Jump Animation (Fade + Scale)
// ============================================

.hi-pagination-jump {
  // DISABLED - migrated to JS animation

  // animation: pagination-jump-animation vars.$hikari-duration-normal vars.$hikari-ease-smooth;
}

// DISABLED - migrated to JS animation
// @keyframes pagination-jump-animation {
//   0% {
//     opacity: 0;
//     transform: scale(0.9);
//   }
//   50% {
//     opacity: 1;
//     transform: scale(1.05);
//   }
//   100% {
//     opacity: 1;
//     transform: scale(1);
//   }
// }

// ============================================
// Smooth Page Change Transitions
// ============================================

.hi-pagination-animate {
  .hi-pagination-item {
    // DISABLED - migrated to JS animation

    // transition: all vars.$hikari-duration-normal vars.$hikari-ease-smooth;
  }

  // Active page transition
  .hi-pagination-item.hi-pagination-active {
    // DISABLED - migrated to JS animation

    // animation: pagination-page-change vars.$hikari-duration-normal vars.$hikari-ease-smooth;
  }
}

// DISABLED - migrated to JS animation
// @keyframes pagination-page-change {
//   0% {
//     transform: scale(1);
//     box-shadow:
//       0 0 16px rgba(139, 92, 246, 0.5),
//       0 0 24px rgba(139, 92, 246, 0.3);
//   }
//   50% {
//     transform: scale(1.1);
//     box-shadow:
//       0 0 24px rgba(139, 92, 246, 0.7),
//       0 0 36px rgba(139, 92, 246, 0.5);
//   }
//   100% {
//     transform: scale(1);
//     box-shadow:
//       0 0 16px rgba(139, 92, 246, 0.5),
//       0 0 24px rgba(139, 92, 246, 0.3);
//   }
// }

// ============================================
// Ellipsis (for large page counts)
// ============================================

.hi-pagination-ellipsis {
  // Layout
  display: flex;
  align-items: center;
  justify-content: center;
  min-width: 2rem;
  height: 2rem;
  padding: 0 0.25rem;
  margin: 0.125rem;

  // Typography
  font-family: vars.$hikari-font-family-sans;
  font-size: vars.$hikari-font-size-sm;
  font-weight: 600;
  color: var(--hi-color-text-secondary);
  letter-spacing: 0.1em;

  // Cursor (optional: can be clickable to show more pages)
  cursor: default;
  user-select: none;

  // Hover effect
  &:hover {
    color: var(--hi-color-primary);
    background: rgba(139, 92, 246, 0.1);
    border-radius: vars.$hikari-radius-fui-sm;
    box-shadow: 0 0 8px rgba(139, 92, 246, 0.2);
  }
}

// ============================================
// Page Size Selector
// ============================================

.hi-pagination-size-selector {
  // Layout
  display: flex;
  align-items: center;
  gap: 0.5rem;
  margin: 0 0.5rem;

  // Label
  .hi-pagination-size-label {
    font-size: vars.$hikari-font-size-sm;
    color: var(--hi-color-text-secondary);
    white-space: nowrap;
  }

  // Select dropdown
  .hi-pagination-size-select {
    // Layout
    padding: 0.375rem 0.75rem;

    // Appearance
    background: rgba(45, 45, 45, 0.9);
    border: 1px solid var(--hi-color-border);
    border-radius: vars.$hikari-radius-fui-sm;

    // Typography
    font-family: vars.$hikari-font-family-sans;
    font-size: vars.$hikari-font-size-sm;
    color: var(--hi-color-text-primary);

    // Cursor
    cursor: pointer;

    // Transitions
    // DISABLED - migrated to JS animation

    // transition: all vars.$hikari-duration-fast vars.$hikari-ease-smooth;

    // Focus state with glow
    &:focus {
      outline: none;
      border-color: rgba(139, 92, 246, 0.5);
      box-shadow:
        0 0 0 2px rgba(139, 92, 246, 0.3),
        0 0 12px rgba(139, 92, 246, 0.3);
    }

    // Hover effect
    &:hover {
      border-color: rgba(139, 92, 246, 0.4);
      box-shadow:
        0 0 8px rgba(139, 92, 246, 0.2),
        inset 0 0 6px rgba(139, 92, 246, 0.1);
    }

    // Options
    option {
      background: rgba(45, 45, 45, 0.95);
      color: var(--hi-color-text-primary);
      padding: 0.5rem;
    }
  }
}

// ============================================
// Total Count Display
// ============================================

.hi-pagination-total {
  // Layout
  display: flex;
  align-items: center;
  gap: 0.25rem;
  margin: 0 0.5rem;

  // Typography
  font-family: vars.$hikari-font-family-sans;
  font-size: vars.$hikari-font-size-sm;
  color: var(--hi-color-text-secondary);
  white-space: nowrap;

  // Highlight numbers
  .hi-pagination-total-highlight {
    color: var(--hi-color-primary);
    font-weight: 600;
    text-shadow: 0 0 8px rgba(139, 92, 246, 0.4);
  }

  // Separator
  .hi-pagination-total-separator {
    margin: 0 0.25rem;
    opacity: 0.5;
  }
}

// ============================================
// Input Jump to Page
// ============================================

.hi-pagination-jumper {
  // Layout
  display: flex;
  align-items: center;
  gap: 0.5rem;
  margin: 0 0.5rem;

  // Label
  .hi-pagination-jumper-label {
    font-size: vars.$hikari-font-size-sm;
    color: var(--hi-color-text-secondary);
    white-space: nowrap;
  }

  // Input field
  .hi-pagination-jumper-input {
    // Layout
    width: 3.5rem;
    padding: 0.375rem 0.5rem;
    text-align: center;

    // Appearance
    background: rgba(45, 45, 45, 0.9);
    border: 1px solid var(--hi-color-border);
    border-radius: vars.$hikari-radius-fui-sm;

    // Typography
    font-family: vars.$hikari-font-family-mono;
    font-size: vars.$hikari-font-size-sm;
    color: var(--hi-color-text-primary);

    // Transitions
    // DISABLED - migrated to JS animation

    // transition: all vars.$hikari-duration-fast vars.$hikari-ease-smooth;

    // Focus state with glow
    &:focus {
      outline: none;
      border-color: rgba(139, 92, 246, 0.5);
      box-shadow:
        0 0 0 2px rgba(139, 92, 246, 0.3),
        0 0 12px rgba(139, 92, 246, 0.3);
    }

    // Validation states
    &.hi-pagination-jumper-invalid {
      border-color: var(--hi-color-danger);
      box-shadow: 0 0 8px rgba(239, 68, 68, 0.4);
    }

    &::placeholder {
      color: var(--hi-color-text-secondary);
      opacity: 0.5;
    }
  }

  // Go button
  .hi-pagination-jumper-button {
    // Layout
    display: flex;
    align-items: center;
    justify-content: center;
    padding: 0.375rem 0.75rem;

    // Appearance
    background: rgba(139, 92, 246, 0.2);
    border: 1px solid rgba(139, 92, 246, 0.4);
    border-radius: vars.$hikari-radius-fui-sm;

    // Typography
    font-family: vars.$hikari-font-family-sans;
    font-size: vars.$hikari-font-size-sm;
    font-weight: 500;
    color: var(--hi-color-primary);

    // Cursor
    cursor: pointer;

    // Transitions
    // DISABLED - migrated to JS animation

    // transition: all vars.$hikari-duration-fast vars.$hikari-ease-smooth;

    // Hover effect
    &:hover:not(:disabled) {
      background: rgba(139, 92, 246, 0.3);
      border-color: rgba(139, 92, 246, 0.6);
      box-shadow:
        0 0 12px rgba(139, 92, 246, 0.3),
        inset 0 0 8px rgba(139, 92, 246, 0.1);
    }

    // Disabled state
    &:disabled {
      opacity: 0.5;
      cursor: not-allowed;
    }
  }
}

// ============================================
// Size Variants
// ============================================

// Small size
.hi-pagination-sm {
  gap: 0.375rem;
  padding: 0.375rem;

  .hi-pagination-item {
    min-width: 1.75rem;
    height: 1.75rem;
    padding: 0 0.5rem;
    font-size: 0.8125rem;

    svg {
      width: 0.875rem;
      height: 0.875rem;
    }
  }

  .hi-pagination-ellipsis {
    min-width: 1.75rem;
    height: 1.75rem;
    font-size: 0.8125rem;
  }

  .hi-pagination-size-selector,
  .hi-pagination-total,
  .hi-pagination-jumper {
    margin: 0 0.375rem;

    .hi-pagination-size-label,
    .hi-pagination-total-label,
    .hi-pagination-jumper-label {
      font-size: 0.8125rem;
    }
  }
}

// Medium size (default)
.hi-pagination-md {
  gap: 0.5rem;
  padding: 0.5rem;

  .hi-pagination-item {
    min-width: 2rem;
    height: 2rem;
    padding: 0 0.625rem;
    font-size: vars.$hikari-font-size-sm;

    svg {
      width: 1rem;
      height: 1rem;
    }
  }

  .hi-pagination-ellipsis {
    min-width: 2rem;
    height: 2rem;
    font-size: vars.$hikari-font-size-sm;
  }
}

// Large size
.hi-pagination-lg {
  gap: 0.625rem;
  padding: 0.625rem;

  .hi-pagination-item {
    min-width: 2.25rem;
    height: 2.25rem;
    padding: 0 0.75rem;
    font-size: 0.9375rem;

    svg {
      width: 1.125rem;
      height: 1.125rem;
    }
  }

  .hi-pagination-ellipsis {
    min-width: 2.25rem;
    height: 2.25rem;
    font-size: 0.9375rem;
  }

  .hi-pagination-size-selector,
  .hi-pagination-total,
  .hi-pagination-jumper {
    margin: 0 0.625rem;

    .hi-pagination-size-label,
    .hi-pagination-total-label,
    .hi-pagination-jumper-label {
      font-size: 0.9375rem;
    }
  }
}

// ============================================
// Compact Mode (Mobile)
// ============================================

@mixin pagination-compact {
  // Layout
  flex-wrap: nowrap;
  justify-content: space-between;
  padding: 0.5rem 0.75rem;

  // Hide less important elements
  .hi-pagination-size-selector,
  .hi-pagination-total,
  .hi-pagination-jumper {
    display: none;
  }

  // Ellipsis always hidden in compact mode
  .hi-pagination-ellipsis {
    display: none;
  }

  // Smaller gaps
  gap: 0.25rem;

  .hi-pagination-item {
    min-width: 1.75rem;
    height: 1.75rem;
    padding: 0 0.5rem;
    font-size: 0.8125rem;
    margin: 0.0625rem;

    svg {
      width: 0.875rem;
      height: 0.875rem;
    }
  }
}

.hi-pagination-compact {
  @include mix.pagination-compact;
}

// ============================================
// Simple Mode (Only Prev/Next/Active)
// ============================================

.hi-pagination-simple {
  .hi-pagination-item:not(.hi-pagination-prev):not(.hi-pagination-next):not(.hi-pagination-active) {
    display: none;
  }

  .hi-pagination-ellipsis {
    display: none;
  }
}

// ============================================
// Responsive Behavior
// ============================================

@include mix.mobile {
  .hi-pagination {
    @include mix.pagination-compact;
  }
}

@include mix.tablet {
  .hi-pagination {
    .hi-pagination-size-selector,
    .hi-pagination-total {
      display: flex;
    }

    .hi-pagination-jumper {
      display: none;
    }
  }
}

@include mix.desktop {
  .hi-pagination {
    .hi-pagination-size-selector,
    .hi-pagination-total,
    .hi-pagination-jumper {
      display: flex;
    }
  }
}

// ============================================
// Loading State
// ============================================

.hi-pagination-loading {
  pointer-events: none;
  opacity: 0.6;

  .hi-pagination-item {
    cursor: wait;

    &::after {
      content: '';
      position: absolute;
      top: 50%;
      left: 50%;
      width: 1rem;
      height: 1rem;
      margin: -0.5rem 0 0 -0.5rem;
      border: 2px solid rgba(139, 92, 246, 0.3);
      border-top-color: var(--hi-color-primary);
      border-radius: 50%;
      // DISABLED - migrated to JS animation

      // animation: pagination-spinner 0.6s linear infinite;
    }
  }
}

// DISABLED - migrated to JS animation
// @keyframes pagination-spinner {
//   to {
//     transform: rotate(360deg);
//   }
// }

// ============================================
// Alignment Variants
// ============================================

// Left aligned
.hi-pagination-left {
  justify-content: flex-start;
}

// Right aligned
.hi-pagination-right {
  justify-content: flex-end;
}

// Center aligned (default)
.hi-pagination-center {
  justify-content: center;
}

// ============================================
// Accessibility
// ============================================

// Focus visible
.hi-pagination-item:focus-visible {
  outline: 2px solid var(--hi-color-primary);
  outline-offset: 2px;
}

// High contrast mode
@media (prefers-contrast: high) {
  .hi-pagination-item {
    border-width: 2px;
  }

  .hi-pagination-item.hi-pagination-active {
    border-width: 2px;
  }
}

// Reduced motion
@media (prefers-reduced-motion: reduce) {
  .hi-pagination-item,
  .hi-pagination-size-select,
  .hi-pagination-jumper-input,
  .hi-pagination-jumper-button {
    // DISABLED - migrated to JS animation

    // transition: none;
    // DISABLED - migrated to JS animation

    // animation: none;
  }

  .hi-pagination-item.hi-pagination-active {
    // DISABLED - migrated to JS animation

    // animation: none;
  }

  .hi-pagination-jump {
    // DISABLED - migrated to JS animation

    // animation: none;
  }
}

// ============================================
// Print Styles
// ============================================

@media print {
  .hi-pagination {
    background: white;
    color: black;
    border: 1px solid #000;
  }

  .hi-pagination-item {
    background: white;
    border: 1px solid #000;
    color: black;
    box-shadow: none;
  }

  .hi-pagination-item.hi-pagination-active {
    background: #ccc;
    border-color: #000;
  }
}

// ============================================
// Dark Mode Specific Enhancements
// ============================================

@media (prefers-color-scheme: dark) {
  .hi-pagination-item {
    background: rgba(45, 45, 45, 0.95);
    border-color: rgba(255, 255, 255, 0.1);
  }

  .hi-pagination-size-select,
  .hi-pagination-jumper-input {
    background: rgba(45, 45, 45, 0.95);
    border-color: rgba(255, 255, 255, 0.1);
  }
}
